(()=>{function O(n){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(n)}function k(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(n,t){if(O(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,t||"default");if(O(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function X(n){var t=ye(n,"string");return O(t)==="symbol"?t:String(t)}function De(n,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,X(a.key),a)}}function _(n,t,r){return t&&De(n.prototype,t),r&&De(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function P(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Q(n,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,e){return a.__proto__=e,a},Q(n,t)}function $(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Q(n,t)}function M(n,t){if(t&&(O(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(n)}function C(n){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C(n)}function N(n,t,r){return t=X(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function be(n){if(Array.isArray(n))return n}function we(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function oe(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=n[r];return a}function Se(n,t){if(n){if(typeof n=="string")return oe(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(n,t)}}function Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xe(n){return be(n)||we(n)||Se(n)||Oe()}function Me(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function Ue(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Me(Object(r),!0).forEach(function(a){N(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}var It={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},Nt=function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};k(this,n),this.init(t,r)}return _(n,[{key:"init",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=a.prefix||"i18next:",this.logger=r||It,this.options=a,this.debug=a.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,a=new Array(r),e=0;e<r;e++)a[e]=arguments[e];return this.forward(a,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,a=new Array(r),e=0;e<r;e++)a[e]=arguments[e];return this.forward(a,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,a=new Array(r),e=0;e<r;e++)a[e]=arguments[e];return this.forward(a,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,a=new Array(r),e=0;e<r;e++)a[e]=arguments[e];return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,a,e,i){return i&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(e).concat(this.prefix," ").concat(r[0])),this.logger[a](r))}},{key:"create",value:function(r){return new n(this.logger,Ue(Ue({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new n(this.logger,r)}}]),n}(),E=new Nt,T=function(){function n(){k(this,n),this.observers={}}return _(n,[{key:"on",value:function(r,a){var e=this;return r.split(" ").forEach(function(i){e.observers[i]=e.observers[i]||[],e.observers[i].push(a)}),this}},{key:"off",value:function(r,a){if(this.observers[r]){if(!a){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(e){return e!==a})}}},{key:"emit",value:function(r){for(var a=arguments.length,e=new Array(a>1?a-1:0),i=1;i<a;i++)e[i-1]=arguments[i];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(u){u.apply(void 0,e)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(u){u.apply(u,[r].concat(e))})}}}]),n}();function Z(){var n,t,r=new Promise(function(a,e){n=a,t=e});return r.resolve=n,r.reject=t,r}function Fe(n){return n==null?"":""+n}function Rt(n,t,r){n.forEach(function(a){t[a]&&(r[a]=t[a])})}function ke(n,t,r){function a(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function e(){return!n||typeof n=="string"}for(var i=typeof t!="string"?[].concat(t):t.split(".");i.length>1;){if(e())return{};var o=a(i.shift());!n[o]&&r&&(n[o]=new r),Object.prototype.hasOwnProperty.call(n,o)?n=n[o]:n={}}return e()?{}:{obj:n,k:a(i.shift())}}function Ke(n,t,r){var a=ke(n,t,Object),e=a.obj,i=a.k;e[i]=r}function Et(n,t,r,a){var e=ke(n,t,Object),i=e.obj,o=e.k;i[o]=i[o]||[],a&&(i[o]=i[o].concat(r)),a||i[o].push(r)}function le(n,t){var r=ke(n,t),a=r.obj,e=r.k;if(a)return a[e]}function At(n,t,r){var a=le(n,r);return a!==void 0?a:le(t,r)}function tt(n,t,r){for(var a in t)a!=="__proto__"&&a!=="constructor"&&(a in n?typeof n[a]=="string"||n[a]instanceof String||typeof t[a]=="string"||t[a]instanceof String?r&&(n[a]=t[a]):tt(n[a],t[a],r):n[a]=t[a]);return n}function B(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Tt(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,function(t){return jt[t]}):n}var pe=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Dt=[" ",",","?","!",";"];function Mt(n,t,r){t=t||"",r=r||"";var a=Dt.filter(function(s){return t.indexOf(s)<0&&r.indexOf(s)<0});if(a.length===0)return!0;var e=new RegExp("(".concat(a.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),i=!e.test(n);if(!i){var o=n.indexOf(r);o>0&&!e.test(n.substring(0,o))&&(i=!0)}return i}function ce(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(n){if(n[t])return n[t];for(var a=t.split(r),e=n,i=0;i<a.length;++i){if(!e||typeof e[a[i]]=="string"&&i+1<a.length)return;if(e[a[i]]===void 0){for(var o=2,s=a.slice(i,i+o).join(r),u=e[s];u===void 0&&a.length>i+o;)o++,s=a.slice(i,i+o).join(r),u=e[s];if(u===void 0)return;if(u===null)return null;if(t.endsWith(s)){if(typeof u=="string")return u;if(s&&typeof u[s]=="string")return u[s]}var f=a.slice(i+o).join(r);return f?ce(u,f,r):void 0}e=e[a[i]]}return e}}function $e(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function se(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$e(Object(r),!0).forEach(function(a){N(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function Ut(n){var t=Ft();return function(){var a=C(n),e;if(t){var i=C(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return M(this,e)}}function Ft(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Kt=function(n){$(r,n);var t=Ut(r);function r(a){var e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return k(this,r),e=t.call(this),pe&&T.call(P(e)),e.data=a||{},e.options=i,e.options.keySeparator===void 0&&(e.options.keySeparator="."),e.options.ignoreJSONStructure===void 0&&(e.options.ignoreJSONStructure=!0),e}return _(r,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var i=this.options.ns.indexOf(e);i>-1&&this.options.ns.splice(i,1)}},{key:"getResource",value:function(e,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[e,i];o&&typeof o!="string"&&(c=c.concat(o)),o&&typeof o=="string"&&(c=c.concat(u?o.split(u):o)),e.indexOf(".")>-1&&(c=e.split("."));var l=le(this.data,c);return l||!f||typeof o!="string"?l:ce(this.data&&this.data[e]&&this.data[e][i],o,u)}},{key:"addResource",value:function(e,i,o,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},f=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,c=[e,i];o&&(c=c.concat(f?o.split(f):o)),e.indexOf(".")>-1&&(c=e.split("."),s=i,i=c[1]),this.addNamespaces(i),Ke(this.data,c,s),u.silent||this.emit("added",e,i,o,s)}},{key:"addResources",value:function(e,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in o)(typeof o[u]=="string"||Object.prototype.toString.apply(o[u])==="[object Array]")&&this.addResource(e,i,u,o[u],{silent:!0});s.silent||this.emit("added",e,i,o)}},{key:"addResourceBundle",value:function(e,i,o,s,u){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[e,i];e.indexOf(".")>-1&&(c=e.split("."),s=o,o=i,i=c[1]),this.addNamespaces(i);var l=le(this.data,c)||{};s?tt(l,o,u):l=se(se({},l),o),Ke(this.data,c,l),f.silent||this.emit("added",e,i,o)}},{key:"removeResourceBundle",value:function(e,i){this.hasResourceBundle(e,i)&&delete this.data[e][i],this.removeNamespaces(i),this.emit("removed",e,i)}},{key:"hasResourceBundle",value:function(e,i){return this.getResource(e,i)!==void 0}},{key:"getResourceBundle",value:function(e,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?se(se({},{}),this.getResource(e,i)):this.getResource(e,i)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var i=this.getDataByLanguage(e),o=i&&Object.keys(i)||[];return!!o.find(function(s){return i[s]&&Object.keys(i[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(T),rt={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,a,e,i){var o=this;return t.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,a,e,i))}),r}};function Be(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function x(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Be(Object(r),!0).forEach(function(a){N(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function $t(n){var t=Bt();return function(){var a=C(n),e;if(t){var i=C(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return M(this,e)}}function Bt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ve={},He=function(n){$(r,n);var t=$t(r);function r(a){var e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k(this,r),e=t.call(this),pe&&T.call(P(e)),Rt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,P(e)),e.options=i,e.options.keySeparator===void 0&&(e.options.keySeparator="."),e.logger=E.create("translator"),e}return _(r,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;var o=this.resolve(e,i);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(e,i){var o=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,u=i.ns||this.options.defaultNS||[],f=o&&e.indexOf(o)>-1,c=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!Mt(e,o,s);if(f&&!c){var l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:u};var p=e.split(o);(o!==s||o===s&&this.options.ns.indexOf(p[0])>-1)&&(u=p.shift()),e=p.join(s)}return typeof u=="string"&&(u=[u]),{key:e,namespaces:u}}},{key:"translate",value:function(e,i,o){var s=this;if(O(i)!=="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),O(i)==="object"&&(i=x({},i)),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);var u=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,f=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,c=this.extractFromKey(e[e.length-1],i),l=c.key,p=c.namespaces,g=p[p.length-1],m=i.lng||this.language,b=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(b){var v=i.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(g).concat(v).concat(l),usedKey:l,exactUsedKey:l,usedLng:m,usedNS:g}:"".concat(g).concat(v).concat(l)}return u?{res:l,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:g}:l}var d=this.resolve(e,i),h=d&&d.res,S=d&&d.usedKey||l,w=d&&d.exactUsedKey||l,L=Object.prototype.toString.apply(h),A=["[object Number]","[object Function]","[object RegExp]"],D=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,z=!this.i18nFormat||this.i18nFormat.handleAsObject,q=typeof h!="string"&&typeof h!="boolean"&&typeof h!="number";if(z&&h&&q&&A.indexOf(L)<0&&!(typeof D=="string"&&L==="[object Array]")){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,h,x(x({},i),{},{ns:p})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return u?(d.res=U,d):U}if(f){var Ie=L==="[object Array]",ne=Ie?[]:{},kt=Ie?w:S;for(var F in h)if(Object.prototype.hasOwnProperty.call(h,F)){var Ne="".concat(kt).concat(f).concat(F);ne[F]=this.translate(Ne,x(x({},i),{joinArrays:!1,ns:p})),ne[F]===Ne&&(ne[F]=h[F])}h=ne}}else if(z&&typeof D=="string"&&L==="[object Array]")h=h.join(D),h&&(h=this.extendTranslation(h,e,i,o));else{var ae=!1,J=!1,Re=i.count!==void 0&&typeof i.count!="string",de=r.hasDefaultValue(i),_t=Re?this.pluralResolver.getSuffix(m,i.count,i):"",G=i["defaultValue".concat(_t)]||i.defaultValue;!this.isValidLookup(h)&&de&&(ae=!0,h=G),this.isValidLookup(h)||(J=!0,h=l);var Ct=i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Pt=Ct&&J?void 0:h,W=de&&G!==h&&this.options.updateMissing;if(J||ae||W){if(this.logger.log(W?"updateKey":"missingKey",m,g,l,W?G:h),f){var Ee=this.resolve(l,x(x({},i),{},{keySeparator:!1}));Ee&&Ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Y=[],ie=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ie&&ie[0])for(var he=0;he<ie.length;he++)Y.push(ie[he]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(i.lng||this.language):Y.push(i.lng||this.language);var Ae=function(K,ve,je){var Te=de&&je!==h?je:Pt;s.options.missingKeyHandler?s.options.missingKeyHandler(K,g,ve,Te,W,i):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(K,g,ve,Te,W,i),s.emit("missingKey",K,g,ve,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Re?Y.forEach(function(me){s.pluralResolver.getSuffixes(me,i).forEach(function(K){Ae([me],l+K,i["defaultValue".concat(K)]||G)})}):Ae(Y,l,G))}h=this.extendTranslation(h,e,i,d,o),J&&h===l&&this.options.appendNamespaceToMissingKey&&(h="".concat(g,":").concat(l)),(J||ae)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(g,":").concat(l):l,ae?h:void 0):h=this.options.parseMissingKeyHandler(h))}return u?(d.res=h,d):h}},{key:"extendTranslation",value:function(e,i,o,s,u){var f=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,x(x({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(x(x({},o),{interpolation:x(x({},this.options.interpolation),o.interpolation)}));var c=typeof e=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(c){var p=e.match(this.interpolator.nestingRegexp);l=p&&p.length}var g=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(g=x(x({},this.options.interpolation.defaultVariables),g)),e=this.interpolator.interpolate(e,g,o.lng||this.language,o),c){var m=e.match(this.interpolator.nestingRegexp),b=m&&m.length;l<b&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,S=new Array(h),w=0;w<h;w++)S[w]=arguments[w];return u&&u[0]===S[0]&&!o.context?(f.logger.warn("It seems you are nesting recursively key: ".concat(S[0]," in key: ").concat(i[0])),null):f.translate.apply(f,S.concat([i]))},o)),o.interpolation&&this.interpolator.reset()}var v=o.postProcess||this.options.postProcess,d=typeof v=="string"?[v]:v;return e!=null&&d&&d.length&&o.applyPostProcessor!==!1&&(e=rt.handle(d,e,i,this.options&&this.options.postProcessPassResolved?x({i18nResolved:s},o):o,this)),e}},{key:"resolve",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,u,f,c,l;return typeof e=="string"&&(e=[e]),e.forEach(function(p){if(!i.isValidLookup(s)){var g=i.extractFromKey(p,o),m=g.key;u=m;var b=g.namespaces;i.options.fallbackNS&&(b=b.concat(i.options.fallbackNS));var v=o.count!==void 0&&typeof o.count!="string",d=v&&!o.ordinal&&o.count===0&&i.pluralResolver.shouldUseIntlApi(),h=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",S=o.lngs?o.lngs:i.languageUtils.toResolveHierarchy(o.lng||i.language,o.fallbackLng);b.forEach(function(w){i.isValidLookup(s)||(l=w,!Ve["".concat(S[0],"-").concat(w)]&&i.utils&&i.utils.hasLoadedNamespace&&!i.utils.hasLoadedNamespace(l)&&(Ve["".concat(S[0],"-").concat(w)]=!0,i.logger.warn('key "'.concat(u,'" for languages "').concat(S.join(", "),`" won't get resolved as namespace "`).concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(function(L){if(!i.isValidLookup(s)){c=L;var A=[m];if(i.i18nFormat&&i.i18nFormat.addLookupKeys)i.i18nFormat.addLookupKeys(A,m,L,w,o);else{var D;v&&(D=i.pluralResolver.getSuffix(L,o.count,o));var z="".concat(i.options.pluralSeparator,"zero");if(v&&(A.push(m+D),d&&A.push(m+z)),h){var q="".concat(m).concat(i.options.contextSeparator).concat(o.context);A.push(q),v&&(A.push(q+D),d&&A.push(q+z))}}for(var U;U=A.pop();)i.isValidLookup(s)||(f=U,s=i.getResource(L,w,U,o))}}))})}}),{res:s,usedKey:u,exactUsedKey:f,usedLng:c,usedNS:l}}},{key:"isValidLookup",value:function(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}},{key:"getResource",value:function(e,i,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,i,o,s):this.resourceStore.getResource(e,i,o,s)}}],[{key:"hasDefaultValue",value:function(e){var i="defaultValue";for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&i===o.substring(0,i.length)&&e[o]!==void 0)return!0;return!1}}]),r}(T);function Le(n){return n.charAt(0).toUpperCase()+n.slice(1)}var ze=function(){function n(t){k(this,n),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=E.create("languageUtils")}return _(n,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var a=r.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var a=r.split("-");return this.formatLanguageCode(a[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var a=["hans","hant","latn","cyrl","cans","mong","arab"],e=r.split("-");return this.options.lowerCaseLng?e=e.map(function(i){return i.toLowerCase()}):e.length===2?(e[0]=e[0].toLowerCase(),e[1]=e[1].toUpperCase(),a.indexOf(e[1].toLowerCase())>-1&&(e[1]=Le(e[1].toLowerCase()))):e.length===3&&(e[0]=e[0].toLowerCase(),e[1].length===2&&(e[1]=e[1].toUpperCase()),e[0]!=="sgn"&&e[2].length===2&&(e[2]=e[2].toUpperCase()),a.indexOf(e[1].toLowerCase())>-1&&(e[1]=Le(e[1].toLowerCase())),a.indexOf(e[2].toLowerCase())>-1&&(e[2]=Le(e[2].toLowerCase()))),e.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var a=this;if(!r)return null;var e;return r.forEach(function(i){if(!e){var o=a.formatLanguageCode(i);(!a.options.supportedLngs||a.isSupportedCode(o))&&(e=o)}}),!e&&this.options.supportedLngs&&r.forEach(function(i){if(!e){var o=a.getLanguagePartFromCode(i);if(a.isSupportedCode(o))return e=o;e=a.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}},{key:"getFallbackCodes",value:function(r,a){if(!r)return[];if(typeof r=="function"&&(r=r(a)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!a)return r.default||[];var e=r[a];return e||(e=r[this.getScriptPartFromCode(a)]),e||(e=r[this.formatLanguageCode(a)]),e||(e=r[this.getLanguagePartFromCode(a)]),e||(e=r.default),e||[]}},{key:"toResolveHierarchy",value:function(r,a){var e=this,i=this.getFallbackCodes(a||this.options.fallbackLng||[],r),o=[],s=function(f){f&&(e.isSupportedCode(f)?o.push(f):e.logger.warn("rejecting language code not found in supportedLngs: ".concat(f)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),i.forEach(function(u){o.indexOf(u)<0&&s(e.formatLanguageCode(u))}),o}}]),n}(),Vt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ht={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},zt=["v1","v2","v3"],qe={zero:0,one:1,two:2,few:3,many:4,other:5};function qt(){var n={};return Vt.forEach(function(t){t.lngs.forEach(function(r){n[r]={numbers:t.nr,plurals:Ht[t.fc]}})}),n}var Jt=function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};k(this,n),this.languageUtils=t,this.options=r,this.logger=E.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=qt()}return _(n,[{key:"addRule",value:function(r,a){this.rules[r]=a}},{key:"getRule",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:a.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=this.getRule(r,a);return this.shouldUseIntlApi()?e&&e.resolvedOptions().pluralCategories.length>1:e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,a){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,e).map(function(i){return"".concat(a).concat(i)})}},{key:"getSuffixes",value:function(r){var a=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,e);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort(function(o,s){return qe[o]-qe[s]}).map(function(o){return"".concat(a.options.prepend).concat(o)}):i.numbers.map(function(o){return a.getSuffix(r,o,e)}):[]}},{key:"getSuffix",value:function(r,a){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.getRule(r,e);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(a)):this.getSuffixRetroCompatible(i,a):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,a){var e=this,i=r.noAbs?r.plurals(a):r.plurals(Math.abs(a)),o=r.numbers[i];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return e.options.prepend&&o.toString()?e.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function(){return!zt.includes(this.options.compatibilityJSON)}}]),n}();function Je(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function I(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Je(Object(r),!0).forEach(function(a){N(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function Ge(n,t,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=At(n,t,r);return!i&&e&&typeof r=="string"&&(i=ce(n,r,a),i===void 0&&(i=ce(t,r,a))),i}var Gt=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};k(this,n),this.logger=E.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return _(n,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var a=r.interpolation;this.escape=a.escape!==void 0?a.escape:Tt,this.escapeValue=a.escapeValue!==void 0?a.escapeValue:!0,this.useRawValueToEscape=a.useRawValueToEscape!==void 0?a.useRawValueToEscape:!1,this.prefix=a.prefix?B(a.prefix):a.prefixEscaped||"{{",this.suffix=a.suffix?B(a.suffix):a.suffixEscaped||"}}",this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||",",this.unescapePrefix=a.unescapeSuffix?"":a.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":a.unescapeSuffix||"",this.nestingPrefix=a.nestingPrefix?B(a.nestingPrefix):a.nestingPrefixEscaped||B("$t("),this.nestingSuffix=a.nestingSuffix?B(a.nestingSuffix):a.nestingSuffixEscaped||B(")"),this.nestingOptionsSeparator=a.nestingOptionsSeparator?a.nestingOptionsSeparator:a.nestingOptionsSeparator||",",this.maxReplaces=a.maxReplaces?a.maxReplaces:1e3,this.alwaysFormat=a.alwaysFormat!==void 0?a.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var a="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(a,"g");var e="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(e,"g")}},{key:"interpolate",value:function(r,a,e,i){var o=this,s,u,f,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(v){return v.replace(/\$/g,"$$$$")}var p=function(d){if(d.indexOf(o.formatSeparator)<0){var h=Ge(a,c,d,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(h,void 0,e,I(I(I({},i),a),{},{interpolationkey:d})):h}var S=d.split(o.formatSeparator),w=S.shift().trim(),L=S.join(o.formatSeparator).trim();return o.format(Ge(a,c,w,o.options.keySeparator,o.options.ignoreJSONStructure),L,e,I(I(I({},i),a),{},{interpolationkey:w}))};this.resetRegExp();var g=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,b=[{regex:this.regexpUnescape,safeValue:function(d){return l(d)}},{regex:this.regexp,safeValue:function(d){return o.escapeValue?l(o.escape(d)):l(d)}}];return b.forEach(function(v){for(f=0;s=v.regex.exec(r);){var d=s[1].trim();if(u=p(d),u===void 0)if(typeof g=="function"){var h=g(r,s,i);u=typeof h=="string"?h:""}else if(i&&Object.prototype.hasOwnProperty.call(i,d))u="";else if(m){u=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(d," for interpolating ").concat(r)),u="";else typeof u!="string"&&!o.useRawValueToEscape&&(u=Fe(u));var S=v.safeValue(u);if(r=r.replace(s[0],S),m?(v.regex.lastIndex+=u.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,f++,f>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,a){var e=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,u;function f(g,m){var b=this.nestingOptionsSeparator;if(g.indexOf(b)<0)return g;var v=g.split(new RegExp("".concat(b,"[ ]*{"))),d="{".concat(v[1]);g=v[0],d=this.interpolate(d,u);var h=d.match(/'/g),S=d.match(/"/g);(h&&h.length%2===0&&!S||S.length%2!==0)&&(d=d.replace(/'/g,'"'));try{u=JSON.parse(d),m&&(u=I(I({},m),u))}catch(w){return this.logger.warn("failed parsing options string in nesting for key ".concat(g),w),"".concat(g).concat(b).concat(d)}return delete u.defaultValue,g}for(;o=this.nestingRegexp.exec(r);){var c=[];u=I({},i),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var l=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var p=o[1].split(this.formatSeparator).map(function(g){return g.trim()});o[1]=p.shift(),c=p,l=!0}if(s=a(f.call(this,o[1].trim(),u),u),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=Fe(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),l&&(s=c.reduce(function(g,m){return e.format(g,m,i.lng,I(I({},i),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),n}();function We(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function j(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?We(Object(r),!0).forEach(function(a){N(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function Wt(n){var t=n.toLowerCase().trim(),r={};if(n.indexOf("(")>-1){var a=n.split("(");t=a[0].toLowerCase().trim();var e=a[1].substring(0,a[1].length-1);if(t==="currency"&&e.indexOf(":")<0)r.currency||(r.currency=e.trim());else if(t==="relativetime"&&e.indexOf(":")<0)r.range||(r.range=e.trim());else{var i=e.split(";");i.forEach(function(o){if(o){var s=o.split(":"),u=xe(s),f=u[0],c=u.slice(1),l=c.join(":").trim().replace(/^'+|'+$/g,"");r[f.trim()]||(r[f.trim()]=l),l==="false"&&(r[f.trim()]=!1),l==="true"&&(r[f.trim()]=!0),isNaN(l)||(r[f.trim()]=parseInt(l,10))}})}}return{formatName:t,formatOptions:r}}function V(n){var t={};return function(a,e,i){var o=e+JSON.stringify(i),s=t[o];return s||(s=n(e,i),t[o]=s),s(a)}}var Yt=function(){function n(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};k(this,n),this.logger=E.create("formatter"),this.options=t,this.formats={number:V(function(r,a){var e=new Intl.NumberFormat(r,j({},a));return function(i){return e.format(i)}}),currency:V(function(r,a){var e=new Intl.NumberFormat(r,j(j({},a),{},{style:"currency"}));return function(i){return e.format(i)}}),datetime:V(function(r,a){var e=new Intl.DateTimeFormat(r,j({},a));return function(i){return e.format(i)}}),relativetime:V(function(r,a){var e=new Intl.RelativeTimeFormat(r,j({},a));return function(i){return e.format(i,a.range||"day")}}),list:V(function(r,a){var e=new Intl.ListFormat(r,j({},a));return function(i){return e.format(i)}})},this.init(t)}return _(n,[{key:"init",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},e=a.interpolation;this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||","}},{key:"add",value:function(r,a){this.formats[r.toLowerCase().trim()]=a}},{key:"addCached",value:function(r,a){this.formats[r.toLowerCase().trim()]=V(a)}},{key:"format",value:function(r,a,e){var i=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a.split(this.formatSeparator),u=s.reduce(function(f,c){var l=Wt(c),p=l.formatName,g=l.formatOptions;if(i.formats[p]){var m=f;try{var b=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},v=b.locale||b.lng||o.locale||o.lng||e;m=i.formats[p](f,v,j(j(j({},g),o),b))}catch(d){i.logger.warn(d)}return m}else i.logger.warn("there was no format function for ".concat(p));return f},r);return u}}]),n}();function Ye(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function Xe(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ye(Object(r),!0).forEach(function(a){N(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function Xt(n){var t=Qt();return function(){var a=C(n),e;if(t){var i=C(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return M(this,e)}}function Qt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zt(n,t){n.pending[t]!==void 0&&(delete n.pending[t],n.pendingCount--)}var er=function(n){$(r,n);var t=Xt(r);function r(a,e,i){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return k(this,r),o=t.call(this),pe&&T.call(P(o)),o.backend=a,o.store=e,o.services=i,o.languageUtils=i.languageUtils,o.options=s,o.logger=E.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,s.backend,s),o}return _(r,[{key:"queueLoad",value:function(e,i,o,s){var u=this,f={},c={},l={},p={};return e.forEach(function(g){var m=!0;i.forEach(function(b){var v="".concat(g,"|").concat(b);!o.reload&&u.store.hasResourceBundle(g,b)?u.state[v]=2:u.state[v]<0||(u.state[v]===1?c[v]===void 0&&(c[v]=!0):(u.state[v]=1,m=!1,c[v]===void 0&&(c[v]=!0),f[v]===void 0&&(f[v]=!0),p[b]===void 0&&(p[b]=!0)))}),m||(l[g]=!0)}),(Object.keys(f).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(f),pending:Object.keys(c),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(p)}}},{key:"loaded",value:function(e,i,o){var s=e.split("|"),u=s[0],f=s[1];i&&this.emit("failedLoading",u,f,i),o&&this.store.addResourceBundle(u,f,o),this.state[e]=i?-1:2;var c={};this.queue.forEach(function(l){Et(l.loaded,[u],f),Zt(l,e),i&&l.errors.push(i),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(function(p){c[p]||(c[p]={});var g=l.loaded[p];g.length&&g.forEach(function(m){c[p][m]===void 0&&(c[p][m]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(l){return!l.done})}},{key:"read",value:function(e,i,o){var s=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:i,fcName:o,tried:u,wait:f,callback:c});return}this.readingCalls++;var l=function(b,v){if(s.readingCalls--,s.waitingReads.length>0){var d=s.waitingReads.shift();s.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(b&&v&&u<s.maxRetries){setTimeout(function(){s.read.call(s,e,i,o,u+1,f*2,c)},f);return}c(b,v)},p=this.backend[o].bind(this.backend);if(p.length===2){try{var g=p(e,i);g&&typeof g.then=="function"?g.then(function(m){return l(null,m)}).catch(l):l(null,g)}catch(m){l(m)}return}return p(e,i,l)}},{key:"prepareLoading",value:function(e,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof i=="string"&&(i=[i]);var f=this.queueLoad(e,i,s,u);if(!f.toLoad.length)return f.pending.length||u(),null;f.toLoad.forEach(function(c){o.loadOne(c)})}},{key:"load",value:function(e,i,o){this.prepareLoading(e,i,{},o)}},{key:"reload",value:function(e,i,o){this.prepareLoading(e,i,{reload:!0},o)}},{key:"loadOne",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=e.split("|"),u=s[0],f=s[1];this.read(u,f,"read",void 0,void 0,function(c,l){c&&i.logger.warn("".concat(o,"loading namespace ").concat(f," for language ").concat(u," failed"),c),!c&&l&&i.logger.log("".concat(o,"loaded namespace ").concat(f," for language ").concat(u),l),i.loaded(e,c,l)})}},{key:"saveMissing",value:function(e,i,o,s,u){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var l=Xe(Xe({},f),{},{isUpdate:u}),p=this.backend.create.bind(this.backend);if(p.length<6)try{var g;p.length===5?g=p(e,i,o,s,l):g=p(e,i,o,s),g&&typeof g.then=="function"?g.then(function(m){return c(null,m)}).catch(c):c(null,g)}catch(m){c(m)}else p(e,i,o,s,c,l)}!e||!e[0]||this.store.addResource(e[0],i,o,s)}}}]),r}(T);function Qe(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(O(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),O(t[2])==="object"||O(t[3])==="object"){var a=t[3]||t[2];Object.keys(a).forEach(function(e){r[e]=a[e]})}return r},interpolation:{escapeValue:!0,format:function(t,r,a,e){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Ze(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function et(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,a)}return r}function R(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(a){N(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function tr(n){var t=rr();return function(){var a=C(n),e;if(t){var i=C(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return M(this,e)}}function rr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ue(){}function nr(n){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(n));t.forEach(function(r){typeof n[r]=="function"&&(n[r]=n[r].bind(n))})}var fe=function(n){$(r,n);var t=tr(r);function r(){var a,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(k(this,r),a=t.call(this),pe&&T.call(P(a)),a.options=Ze(e),a.services={},a.logger=E,a.modules={external:[]},nr(P(a)),i&&!a.isInitialized&&!e.isClone){if(!a.options.initImmediate)return a.init(e,i),M(a,P(a));setTimeout(function(){a.init(e,i)},0)}return a}return _(r,[{key:"init",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof i=="function"&&(o=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));var s=Qe();this.options=R(R(R({},s),this.options),Ze(i)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=R(R({},s.interpolation),this.options.interpolation)),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);function u(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?E.init(u(this.modules.logger),this.options):E.init(null,this.options);var f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=Yt);var c=new ze(this.options);this.store=new Kt(this.options.resources,this.options);var l=this.services;l.logger=E,l.resourceStore=this.store,l.languageUtils=c,l.pluralResolver=new Jt(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(l.formatter=u(f),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new Gt(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new er(u(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",function(d){for(var h=arguments.length,S=new Array(h>1?h-1:0),w=1;w<h;w++)S[w-1]=arguments[w];e.emit.apply(e,[d].concat(S))}),this.modules.languageDetector&&(l.languageDetector=u(this.modules.languageDetector),l.languageDetector.init&&l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=u(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new He(this.services,this.options),this.translator.on("*",function(d){for(var h=arguments.length,S=new Array(h>1?h-1:0),w=1;w<h;w++)S[w-1]=arguments[w];e.emit.apply(e,[d].concat(S))}),this.modules.external.forEach(function(d){d.init&&d.init(e)})}if(this.format=this.options.interpolation.format,o||(o=ue),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var g=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];g.forEach(function(d){e[d]=function(){var h;return(h=e.store)[d].apply(h,arguments)}});var m=["addResource","addResources","addResourceBundle","removeResourceBundle"];m.forEach(function(d){e[d]=function(){var h;return(h=e.store)[d].apply(h,arguments),e}});var b=Z(),v=function(){var h=function(w,L){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),b.resolve(L),o(w,L)};if(e.languages&&e.options.compatibilityAPI!=="v1"&&!e.isInitialized)return h(null,e.t.bind(e));e.changeLanguage(e.options.lng,h)};return this.options.resources||!this.options.initImmediate?v():setTimeout(v,0),b}},{key:"loadResources",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ue,s=o,u=typeof e=="string"?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return s();var f=[],c=function(g){if(g){var m=i.services.languageUtils.toResolveHierarchy(g);m.forEach(function(b){f.indexOf(b)<0&&f.push(b)})}};if(u)c(u);else{var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.forEach(function(p){return c(p)})}this.options.preload&&this.options.preload.forEach(function(p){return c(p)}),this.services.backendConnector.load(f,this.options.ns,function(p){!p&&!i.resolvedLanguage&&i.language&&i.setResolvedLanguage(i.language),s(p)})}else s(null)}},{key:"reloadResources",value:function(e,i,o){var s=Z();return e||(e=this.languages),i||(i=this.options.ns),o||(o=ue),this.services.backendConnector.reload(e,i,function(u){s.resolve(),o(u)}),s}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&rt.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(var i=0;i<this.languages.length;i++){var o=this.languages[i];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(e,i){var o=this;this.isLanguageChangingTo=e;var s=Z();this.emit("languageChanging",e);var u=function(p){o.language=p,o.languages=o.services.languageUtils.toResolveHierarchy(p),o.resolvedLanguage=void 0,o.setResolvedLanguage(p)},f=function(p,g){g?(u(g),o.translator.changeLanguage(g),o.isLanguageChangingTo=void 0,o.emit("languageChanged",g),o.logger.log("languageChanged",g)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),i&&i(p,function(){return o.t.apply(o,arguments)})},c=function(p){!e&&!p&&o.services.languageDetector&&(p=[]);var g=typeof p=="string"?p:o.services.languageUtils.getBestMatchFromCodes(p);g&&(o.language||u(g),o.translator.language||o.translator.changeLanguage(g),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(g)),o.loadResources(g,function(m){f(m,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),s}},{key:"getFixedT",value:function(e,i,o){var s=this,u=function f(c,l){var p;if(O(l)!=="object"){for(var g=arguments.length,m=new Array(g>2?g-2:0),b=2;b<g;b++)m[b-2]=arguments[b];p=s.options.overloadTranslationOptionHandler([c,l].concat(m))}else p=R({},l);p.lng=p.lng||f.lng,p.lngs=p.lngs||f.lngs,p.ns=p.ns||f.ns,p.keyPrefix=p.keyPrefix||o||f.keyPrefix;var v=s.options.keySeparator||".",d;return p.keyPrefix&&Array.isArray(c)?d=c.map(function(h){return"".concat(p.keyPrefix).concat(v).concat(h)}):d=p.keyPrefix?"".concat(p.keyPrefix).concat(v).concat(c):c,s.t(d,p)};return typeof e=="string"?u.lng=e:u.lngs=e,u.ns=i,u.keyPrefix=o,u}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,f=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var c=function(g,m){var b=i.services.backendConnector.state["".concat(g,"|").concat(m)];return b===-1||b===2};if(o.precheck){var l=o.precheck(this,c);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,e)&&(!u||c(f,e)))}},{key:"loadNamespaces",value:function(e,i){var o=this,s=Z();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(function(u){o.options.ns.indexOf(u)<0&&o.options.ns.push(u)}),this.loadResources(function(u){s.resolve(),i&&i(u)}),s):(i&&i(),Promise.resolve())}},{key:"loadLanguages",value:function(e,i){var o=Z();typeof e=="string"&&(e=[e]);var s=this.options.preload||[],u=e.filter(function(f){return s.indexOf(f)<0});return u.length?(this.options.preload=s.concat(u),this.loadResources(function(f){o.resolve(),i&&i(f)}),o):(i&&i(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new ze(Qe());return i.indexOf(o.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ue,s=R(R(R({},this.options),i),{isClone:!0}),u=new r(s);(i.debug!==void 0||i.prefix!==void 0)&&(u.logger=u.logger.clone(i));var f=["store","services","language"];return f.forEach(function(c){u[c]=e[c]}),u.services=R({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new He(u.services,u.options),u.translator.on("*",function(c){for(var l=arguments.length,p=new Array(l>1?l-1:0),g=1;g<l;g++)p[g-1]=arguments[g];u.emit.apply(u,[c].concat(p))}),u.init(s,o),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(T);N(fe,"createInstance",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new fe(n,t)});var y=fe.createInstance();y.createInstance=fe.createInstance;var cn=y.createInstance,fn=y.dir,pn=y.init,gn=y.loadResources,dn=y.reloadResources,hn=y.use,mn=y.changeLanguage,vn=y.getFixedT,yn=y.t,bn=y.exists,wn=y.setDefaultNamespace,Sn=y.hasLoadedNamespace,On=y.loadNamespaces,xn=y.loadLanguages;var st=[],ar=st.forEach,ir=st.slice;function or(n){return ar.call(ir.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n}var nt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,sr=function(t,r,a){var e=a||{};e.path=e.path||"/";var i=encodeURIComponent(r),o="".concat(t,"=").concat(i);if(e.maxAge>0){var s=e.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(s))}if(e.domain){if(!nt.test(e.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(e.domain)}if(e.path){if(!nt.test(e.path))throw new TypeError("option path is invalid");o+="; Path=".concat(e.path)}if(e.expires){if(typeof e.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(e.expires.toUTCString())}if(e.httpOnly&&(o+="; HttpOnly"),e.secure&&(o+="; Secure"),e.sameSite){var u=typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},at={create:function(t,r,a,e){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+a*60*1e3)),e&&(i.domain=e),document.cookie=sr(t,encodeURIComponent(r),i)},read:function(t){for(var r="".concat(t,"="),a=document.cookie.split(";"),e=0;e<a.length;e++){for(var i=a[e];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(r)===0)return i.substring(r.length,i.length)}return null},remove:function(t){this.create(t,"",-1)}},ur={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var a=at.read(t.lookupCookie);a&&(r=a)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&at.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},lr={name:"querystring",lookup:function(t){var r;if(typeof window<"u"){var a=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));for(var e=a.substring(1),i=e.split("&"),o=0;o<i.length;o++){var s=i[o].indexOf("=");if(s>0){var u=i[o].substring(0,s);u===t.lookupQuerystring&&(r=i[o].substring(s+1))}}}return r}},ee=null,it=function(){if(ee!==null)return ee;try{ee=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{ee=!1}return ee},cr={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&it()){var a=window.localStorage.getItem(t.lookupLocalStorage);a&&(r=a)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&it()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},te=null,ot=function(){if(te!==null)return te;try{te=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{te=!1}return te},fr={name:"sessionStorage",lookup:function(t){var r;if(t.lookupSessionStorage&&ot()){var a=window.sessionStorage.getItem(t.lookupSessionStorage);a&&(r=a)}return r},cacheUserLanguage:function(t,r){r.lookupSessionStorage&&ot()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},pr={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var a=0;a<navigator.languages.length;a++)r.push(navigator.languages[a]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},gr={name:"htmlTag",lookup:function(t){var r,a=t.htmlTag||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(r=a.getAttribute("lang")),r}},dr={name:"path",lookup:function(t){var r;if(typeof window<"u"){var a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(a instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof a[t.lookupFromPathIndex]!="string")return;r=a[t.lookupFromPathIndex].replace("/","")}else r=a[0].replace("/","")}return r}},hr={name:"subdomain",lookup:function(t){var r=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,a=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(a)return a[r]}};function mr(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var _e=function(){function n(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};k(this,n),this.type="languageDetector",this.detectors={},this.init(t,r)}return _(n,[{key:"init",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=or(a,this.options||{},mr()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=e,this.addDetector(ur),this.addDetector(lr),this.addDetector(cr),this.addDetector(fr),this.addDetector(pr),this.addDetector(gr),this.addDetector(dr),this.addDetector(hr)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var a=this;r||(r=this.options.order);var e=[];return r.forEach(function(i){if(a.detectors[i]){var o=a.detectors[i].lookup(a.options);o&&typeof o=="string"&&(o=[o]),o&&(e=e.concat(o))}}),e=e.map(function(i){return a.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?e:e.length>0?e[0]:null}},{key:"cacheUserLanguage",value:function(r,a){var e=this;a||(a=this.options.caches),a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||a.forEach(function(i){e.detectors[i]&&e.detectors[i].cacheUserLanguage(r,e.options)}))}}]),n}();_e.type="languageDetector";var ut="aj_lti",H="main-content";function lt(n){return document.cookie?document.cookie.match(`(^|;)\\s*${n.openIdCookiePrefix}`+n.state):!1}function ct(n){document.cookie=n.openIdCookiePrefix+n.state+"=1; path=/; max-age=60; SameSite=None;"}function ge(n){return y.t(n.privacyPolicyMessage||"We use cookies for login and security.")+" "+y.t("Learn more in our <a href='{{url}}' target='_blank'>privacy policy</a>.")}function vr(n){window.open(n.relaunchInitUrl),re(n,{disableLaunch:!0,showRequestStorageAccess:!1,showStorageAccessDenied:!1})}function re(n,t){let{disableLaunch:r,showRequestStorageAccess:a,showStorageAccessDenied:e}=t,i=document.getElementById(H);if(!i)throw y.t("Could not find main-content element");i.innerHTML=`
    <div class="aj-centered-message">
      <h1 class="aj-title">
        <i class="material-icons-outlined aj-icon" aria-hidden="true">cookie_off</i>
        ${y.t("Cookies Required")}
      </h1>
      <p class="aj-text">
        ${ge(n)} </p>
      <p class="aj-text">
        ${y.t("Please click the button below to reload in a new window.")}
      </p>
      <button id="button_launch_new_window" class="aj-btn aj-btn--blue" ${r?'disabled=""':""} >
        ${y.t("Open in a new window")}
      </button>
      </a>
      ${a?`
        <div id="request_storage_access">
          <p class="aj-text">
            ${y.t("If you have used this application before, your browser may allow you to <a id='request_storage_access_link' href='#'>enable cookies</a> and prevent this message in the future.")}
          </p>
        </div>
      `:""}
      ${e?`
      <div id="request_storage_access_error" class="u-flex">
        <i class="material-icons-outlined aj-icon" aria-hidden="true">warning</i>
        <p class="aj-text">
        ${y.t("The browser prevented access.  Try launching in a new window first and then clicking this option again next time. If that doesn't work check your privacy settings. Some browsers will prevent all third party cookies.")}
        </p>
      </div>
      `:""}
    </div>
  `,document.getElementById("button_launch_new_window").onclick=()=>vr(n),a&&(document.getElementById("request_storage_access_link").onclick=()=>ft(n))}function yr(){return new Promise((n,t)=>{let r=window.parent||window.opener,a=setTimeout(()=>{console.log(y.t("capabilities request timeout")),t(new Error(y.t("Timeout while waiting for capabilities response")))},1e3),e=i=>{if(typeof i.data=="object"&&i.data.subject==="lti.capabilities.response"&&i.data.message_id==="aj-lti-caps"){if(removeEventListener("message",e),clearTimeout(a),i.data.error){console.error(i.data.error.code),console.error(i.data.error.message),t(new Error(i.data.errormessage));return}n(i.data.supported_messages)}};window.addEventListener("message",e),r.postMessage({subject:"lti.capabilities",message_id:"aj-lti-caps"},"*")})}async function pt(n){let t=await yr();return t&&t.find(r=>r.subject==n)||null}async function br(n){let t=n.target;t==null&&(t=(await pt("lti.get_data"))?.frame),t==null&&(t="_parent");let r=window.parent||window.opener;return t==="_parent"?r:r.frames[t]||r}async function gt(n,t){return new Promise((r,a)=>{let e=new URL(t.platformOIDCUrl).origin;t.originSupportBroken&&(e="*");let i=setTimeout(()=>{console.error("postMessage timeout"),a(new Error(y.t("Timeout while waiting for platform response")))},2e3),o=s=>{typeof s.data=="object"&&s.data.subject==="lti.put_data.response"&&s.data.message_id===n&&(s.origin===e||t.originSupportBroken&&e==="*")&&(removeEventListener("message",o),clearTimeout(i),s.data.error&&(console.error(s.data.error.code),console.error(s.data.error.message),a(new Error(s.data.errormessage))),r())};window.addEventListener("message",o),br(t).then(s=>s?.postMessage({subject:"lti.put_data",message_id:n,key:`${ut}${n}`,value:n},e)).catch(s=>{console.log(y.t("Could not find target frame")),console.log(s),a(new Error(y.t("Could not find target frame")))})})}function dt(){return typeof document.hasStorageAccess=="function"&&typeof document.requestStorageAccess=="function"}function ft(n){document.requestStorageAccess().then(()=>{ct(n),window.location.replace(n.responseUrl)}).catch(t=>{console.log(t),re(n,{showStorageAccessDenied:!0,disableLaunch:!0,showRequestStorageAccess:!1})})}function ht(n){let t=document.getElementById(H);if(!t)throw y.t("Could not find main-content element");t.innerHTML=`
    <div id="cookie_error" class="aj-centered-message">
      <h1 class="aj-title">
        <i class="material-icons-outlined aj-icon" aria-hidden="true">cookie_off</i>
        ${y.t("Cookies Required")}
      </h1>
      <p class="aj-text">
        ${ge(n)}
      </p>
      <p class="aj-text">
        ${y.t("Please check your browser settings and enable cookies.")}
      </p>
    </div>
  `}async function mt(n){let t=()=>{window.location.replace(n.responseUrl)};if(lt(n))return t();if(n.ltiStorageParams)try{return await gt(n.state,n.ltiStorageParams),t()}catch(r){console.error(r)}if(window.self!==window.top){let r=!1;if(dt())try{await document.hasStorageAccess()||(r=!0)}catch(a){console.log(a)}re(n,{showRequestStorageAccess:r,disableLaunch:!1,showStorageAccessDenied:!1})}else ht(n)}var vt={"Cookies Required":"Galletas requeridas","There was an error launching the LTI tool. Please reload and try again.":"Hubo un error al iniciar la herramienta LTI. Vuelva a cargar y vuelva a intentarlo.","Please click the button below to reload in a new window.":"Haga clic en el bot\xF3n de abajo para recargar en una nueva ventana.","Open in a new window":"Abrir en una nueva ventana","If you have used this application before, your browser may allow you to <a id='request_storage_access_link' href='#'>enable cookies</a> and prevent this message in the future.":"Si ha utilizado esta aplicaci\xF3n anteriormente, su navegador puede permitirle <a id='request_storage_access_link' href='#'>habilitar cookies</a> y evitar este mensaje en el futuro.","The browser prevented access.  Try launching in a new window first and then clicking this option again next time. If that doesn't work check your privacy settings. Some browsers will prevent all third party cookies.":"El navegador impidi\xF3 el acceso. Intente iniciar primero en una nueva ventana y luego vuelva a hacer clic en esta opci\xF3n la pr\xF3xima vez. Si eso no funciona, verifique su configuraci\xF3n de privacidad. Algunos navegadores evitar\xE1n todas las cookies de terceros.","We use cookies for login and security.":"Usamos cookies para inicio de sesi\xF3n y seguridad.","Learn more in our <a href='{{url}}' target='_blank'>privacy policy</a>.":"Obt\xE9n m\xE1s informaci\xF3n en nuestra <a href='{{url}}' target='_blank'>pol\xEDtica de privacidad</a>.","Please check your browser settings and enable cookies.":"Verifique la configuraci\xF3n de su navegador y habilite las cookies."};var yt={"Cookies Required":"Cookies n\xE9cessaires","There was an error launching the LTI tool. Please reload and try again.":"Une erreur s'est produite lors du lancement de l'outil LTI. Veuillez recharger et r\xE9essayer.","Please click the button below to reload in a new window.":"Veuillez cliquer sur le bouton ci-dessous pour recharger dans une nouvelle fen\xEAtre.","Open in a new window":"Ouvrir dans une nouvelle fen\xEAtre","If you have used this application before, your browser may allow you to <a id='request_storage_access_link' href='#'>enable cookies</a> and prevent this message in the future.":"Si vous avez d\xE9j\xE0 utilis\xE9 cette application, votre navigateur peut vous permettre d'<a id='request_storage_access_link' href='#'>activer les cookies</a> et emp\xEAcher ce message \xE0 l'avenir.","The browser prevented access.  Try launching in a new window first and then clicking this option again next time. If that doesn't work check your privacy settings. Some browsers will prevent all third party cookies.":"Le navigateur a emp\xEAch\xE9 l'acc\xE8s. Essayez d'abord de lancer dans une nouvelle fen\xEAtre, puis cliquez \xE0 nouveau sur cette option la prochaine fois. Si cela ne fonctionne pas, v\xE9rifiez vos param\xE8tres de confidentialit\xE9. Certains navigateurs emp\xEAcheront tous les cookies tiers.","We use cookies for login and security.":"Nous utilisons des cookies pour la connexion et la s\xE9curit\xE9.","Learn more in our <a href='{{url}}' target='_blank'>privacy policy</a>.":"En savoir plus dans notre <a href='{{url}}' target='_blank'>politique de confidentialit\xE9</a>.","Please check your browser settings and enable cookies.":"Veuillez v\xE9rifier les param\xE8tres de votre navigateur et activer les cookies."};function Or(){let n=document.getElementById(H);if(!n)throw"Could not find main-content element";n.innerHTML+=`
    <div class="u-flex aj-centered-message">
      <i class="material-icons-outlined aj-icon" aria-hidden="true">warning</i>
      <p class="aj-text translate">
        ${y.t("There was an error launching the LTI tool. Please reload and try again.")}
      </p>
    </div>
  `}function Ce(n){let t=!1;y.use(_e).init({detection:{order:["querystring","navigator"]},fallbackLng:"en",keySeparator:!1}),y.addResourceBundle("es","translation",vt),y.addResourceBundle("fr","translation",yt),y.changeLanguage(),window.addEventListener("load",()=>{mt(n),t=!0}),setTimeout(()=>{t||Or()},5e3)}var bt;(function(n){n.v1_3_0="1.3.0"})(bt||(bt={}));var wt;(function(n){n.iframe="iframe",n.window="window",n.embed="embed"})(wt||(wt={}));var St;(function(n){n.link="link",n.file="file",n.html="html",n.ltiResourceLink="ltiResourceLink",n.image="image"})(St||(St={}));var Pe;(function(n){n.LtiResourceLinkRequest="LtiResourceLinkRequest",n.LtiDeepLinkingRequest="LtiDeepLinkingRequest"})(Pe||(Pe={}));var Ot;(function(n){n.AdministratorSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#Administrator",n.NoneSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#None",n.AccountAdminSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#AccountAdmin",n.CreatorSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#Creator",n.SysAdminSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#SysAdmin",n.SysSupportSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#SysSupport",n.UserSystemRole="http://purl.imsglobal.org/vocab/lis/v2/system/person#User",n.AdministratorInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Administrator",n.FacultyInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Faculty",n.GuestInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Guest",n.NoneInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#None",n.OtherInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Other",n.StaffInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Staff",n.StudentInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Student",n.AlumniInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Alumni",n.InstructorInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Instructor",n.LearnerInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Learner",n.MemberInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Member",n.MentorInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Mentor",n.ObserverInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#Observer",n.ProspectiveStudentInstitutionRole="http://purl.imsglobal.org/vocab/lis/v2/institution/person#ProspectiveStudent",n.AdministratorContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Administrator",n.ContentDeveloperContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#ContentDeveloper",n.InstructorContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Instructor",n.LearnerContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Learner",n.MentorContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Mentor",n.ManagerContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Manager",n.MemberContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Member",n.OfficerContextRole="http://purl.imsglobal.org/vocab/lis/v2/membership#Officer"})(Ot||(Ot={}));var xt;(function(n){n.lineItem="https://purl.imsglobal.org/spec/lti-ags/scope/lineitem",n.resultReadOnly="https://purl.imsglobal.org/spec/lti-ags/scope/result.readonly",n.score="https://purl.imsglobal.org/spec/lti-ags/scope/score",n.lineItemReadOnly="https://purl.imsglobal.org/spec/lti-ags/scope/lineitem.readonly"})(xt||(xt={}));var Lt;(function(n){n[n.Active=0]="Active",n[n.Inactive=1]="Inactive",n[n.Deleted=2]="Deleted"})(Lt||(Lt={}));var xr=window.INIT_SETTINGS;Ce(xr);})();
