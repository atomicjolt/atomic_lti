(()=>{function O(i){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},O(i)}function L(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function he(i,r){if(O(i)!=="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,r||"default");if(O(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function G(i){var r=he(i,"string");return O(r)==="symbol"?r:String(r)}function Ie(i,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,G(n.key),n)}}function P(i,r,t){return r&&Ie(i.prototype,r),t&&Ie(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function j(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Q(i,r){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},Q(i,r)}function K(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),r&&Q(i,r)}function F(i,r){if(r&&(O(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(i)}function R(i){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(i)}function N(i,r,t){return r=G(r),r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function me(i){if(Array.isArray(i))return i}function ve(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function ae(i,r){(r==null||r>i.length)&&(r=i.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=i[t];return n}function ye(i,r){if(i){if(typeof i=="string")return ae(i,r);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ae(i,r)}}function be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function we(i){return me(i)||ve(i)||ye(i)||be()}function Ee(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);r&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,n)}return t}function Te(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ee(Object(t),!0).forEach(function(n){N(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}var dt={type:"logger",log:function(r){this.output("log",r)},warn:function(r){this.output("warn",r)},error:function(r){this.output("error",r)},output:function(r,t){console&&console[r]&&console[r].apply(console,t)}},pt=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L(this,i),this.init(r,t)}return P(i,[{key:"init",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||dt,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,n,e,a){return a&&!this.debug?null:(typeof t[0]=="string"&&(t[0]="".concat(e).concat(this.prefix," ").concat(t[0])),this.logger[n](t))}},{key:"create",value:function(t){return new i(this.logger,Te(Te({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new i(this.logger,t)}}]),i}(),I=new pt,D=function(){function i(){L(this,i),this.observers={}}return P(i,[{key:"on",value:function(t,n){var e=this;return t.split(" ").forEach(function(a){e.observers[a]=e.observers[a]||[],e.observers[a].push(n)}),this}},{key:"off",value:function(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t]=this.observers[t].filter(function(e){return e!==n})}}},{key:"emit",value:function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),a=1;a<n;a++)e[a-1]=arguments[a];if(this.observers[t]){var o=[].concat(this.observers[t]);o.forEach(function(u){u.apply(void 0,e)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(u){u.apply(u,[t].concat(e))})}}}]),i}();function Z(){var i,r,t=new Promise(function(n,e){i=n,r=e});return t.resolve=i,t.reject=r,t}function De(i){return i==null?"":""+i}function ht(i,r,t){i.forEach(function(n){r[n]&&(t[n]=r[n])})}function Oe(i,r,t){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function e(){return!i||typeof i=="string"}for(var a=typeof r!="string"?[].concat(r):r.split(".");a.length>1;){if(e())return{};var o=n(a.shift());!i[o]&&t&&(i[o]=new t),Object.prototype.hasOwnProperty.call(i,o)?i=i[o]:i={}}return e()?{}:{obj:i,k:n(a.shift())}}function Ae(i,r,t){var n=Oe(i,r,Object),e=n.obj,a=n.k;e[a]=t}function mt(i,r,t,n){var e=Oe(i,r,Object),a=e.obj,o=e.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(t)),n||a[o].push(t)}function se(i,r){var t=Oe(i,r),n=t.obj,e=t.k;if(n)return n[e]}function vt(i,r,t){var n=se(i,t);return n!==void 0?n:se(r,t)}function Qe(i,r,t){for(var n in r)n!=="__proto__"&&n!=="constructor"&&(n in i?typeof i[n]=="string"||i[n]instanceof String||typeof r[n]=="string"||r[n]instanceof String?t&&(i[n]=r[n]):Qe(i[n],r[n],t):i[n]=r[n]);return i}function M(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function bt(i){return typeof i=="string"?i.replace(/[&<>"'\/]/g,function(r){return yt[r]}):i}var le=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,wt=[" ",",","?","!",";"];function St(i,r,t){r=r||"",t=t||"";var n=wt.filter(function(s){return r.indexOf(s)<0&&t.indexOf(s)<0});if(n.length===0)return!0;var e=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!e.test(i);if(!a){var o=i.indexOf(t);o>0&&!e.test(i.substring(0,o))&&(a=!0)}return a}function ue(i,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(i){if(i[r])return i[r];for(var n=r.split(t),e=i,a=0;a<n.length;++a){if(!e||typeof e[n[a]]=="string"&&a+1<n.length)return;if(e[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(t),u=e[s];u===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(t),u=e[s];if(u===void 0)return;if(u===null)return null;if(r.endsWith(s)){if(typeof u=="string")return u;if(s&&typeof u[s]=="string")return u[s]}var f=n.slice(a+o).join(t);return f?ue(u,f,t):void 0}e=e[n[a]]}return e}}function Fe(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);r&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,n)}return t}function ie(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Fe(Object(t),!0).forEach(function(n){N(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Fe(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Ot(i){var r=xt();return function(){var n=R(i),e;if(r){var a=R(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return F(this,e)}}function xt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var kt=function(i){K(t,i);var r=Ot(t);function t(n){var e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return L(this,t),e=r.call(this),le&&D.call(j(e)),e.data=n||{},e.options=a,e.options.keySeparator===void 0&&(e.options.keySeparator="."),e.options.ignoreJSONStructure===void 0&&(e.options.ignoreJSONStructure=!0),e}return P(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var a=this.options.ns.indexOf(e);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(e,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,l=[e,a];o&&typeof o!="string"&&(l=l.concat(o)),o&&typeof o=="string"&&(l=l.concat(u?o.split(u):o)),e.indexOf(".")>-1&&(l=e.split("."));var c=se(this.data,l);return c||!f||typeof o!="string"?c:ue(this.data&&this.data[e]&&this.data[e][a],o,u)}},{key:"addResource",value:function(e,a,o,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},f=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,l=[e,a];o&&(l=l.concat(f?o.split(f):o)),e.indexOf(".")>-1&&(l=e.split("."),s=a,a=l[1]),this.addNamespaces(a),Ae(this.data,l,s),u.silent||this.emit("added",e,a,o,s)}},{key:"addResources",value:function(e,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in o)(typeof o[u]=="string"||Object.prototype.toString.apply(o[u])==="[object Array]")&&this.addResource(e,a,u,o[u],{silent:!0});s.silent||this.emit("added",e,a,o)}},{key:"addResourceBundle",value:function(e,a,o,s,u){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},l=[e,a];e.indexOf(".")>-1&&(l=e.split("."),s=o,o=a,a=l[1]),this.addNamespaces(a);var c=se(this.data,l)||{};s?Qe(c,o,u):c=ie(ie({},c),o),Ae(this.data,l,c),f.silent||this.emit("added",e,a,o)}},{key:"removeResourceBundle",value:function(e,a){this.hasResourceBundle(e,a)&&delete this.data[e][a],this.removeNamespaces(a),this.emit("removed",e,a)}},{key:"hasResourceBundle",value:function(e,a){return this.getResource(e,a)!==void 0}},{key:"getResourceBundle",value:function(e,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?ie(ie({},{}),this.getResource(e,a)):this.getResource(e,a)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var a=this.getDataByLanguage(e),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),t}(D),Ze={processors:{},addPostProcessor:function(r){this.processors[r.name]=r},handle:function(r,t,n,e,a){var o=this;return r.forEach(function(s){o.processors[s]&&(t=o.processors[s].process(t,n,e,a))}),t}};function Ue(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);r&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,n)}return t}function x(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ue(Object(t),!0).forEach(function(n){N(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ue(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Lt(i){var r=Pt();return function(){var n=R(i),e;if(r){var a=R(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return F(this,e)}}function Pt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var $e={},Be=function(i){K(t,i);var r=Lt(t);function t(n){var e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L(this,t),e=r.call(this),le&&D.call(j(e)),ht(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,j(e)),e.options=a,e.options.keySeparator===void 0&&(e.options.keySeparator="."),e.logger=I.create("translator"),e}return P(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;var o=this.resolve(e,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(e,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ns||this.options.defaultNS||[],f=o&&e.indexOf(o)>-1,l=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!St(e,o,s);if(f&&!l){var c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:u};var g=e.split(o);(o!==s||o===s&&this.options.ns.indexOf(g[0])>-1)&&(u=g.shift()),e=g.join(s)}return typeof u=="string"&&(u=[u]),{key:e,namespaces:u}}},{key:"translate",value:function(e,a,o){var s=this;if(O(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),O(a)==="object"&&(a=x({},a)),a||(a={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);var u=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,f=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,l=this.extractFromKey(e[e.length-1],a),c=l.key,g=l.namespaces,d=g[g.length-1],m=a.lng||this.language,y=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m&&m.toLowerCase()==="cimode"){if(y){var v=a.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(d).concat(v).concat(c),usedKey:c,exactUsedKey:c,usedLng:m,usedNS:d}:"".concat(d).concat(v).concat(c)}return u?{res:c,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:d}:c}var p=this.resolve(e,a),h=p&&p.res,S=p&&p.usedKey||c,w=p&&p.exactUsedKey||c,k=Object.prototype.toString.apply(h),E=["[object Number]","[object Function]","[object RegExp]"],A=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,H=!this.i18nFormat||this.i18nFormat.handleAsObject,z=typeof h!="string"&&typeof h!="boolean"&&typeof h!="number";if(H&&h&&z&&E.indexOf(k)<0&&!(typeof A=="string"&&k==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,h,x(x({},a),{},{ns:g})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return u?(p.res=U,p):U}if(f){var Le=k==="[object Array]",te=Le?[]:{},ct=Le?w:S;for(var $ in h)if(Object.prototype.hasOwnProperty.call(h,$)){var Pe="".concat(ct).concat(f).concat($);te[$]=this.translate(Pe,x(x({},a),{joinArrays:!1,ns:g})),te[$]===Pe&&(te[$]=h[$])}h=te}}else if(H&&typeof A=="string"&&k==="[object Array]")h=h.join(A),h&&(h=this.extendTranslation(h,e,a,o));else{var re=!1,q=!1,Re=a.count!==void 0&&typeof a.count!="string",fe=t.hasDefaultValue(a),lt=Re?this.pluralResolver.getSuffix(m,a.count,a):"",J=a["defaultValue".concat(lt)]||a.defaultValue;!this.isValidLookup(h)&&fe&&(re=!0,h=J),this.isValidLookup(h)||(q=!0,h=c);var ft=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,gt=ft&&q?void 0:h,W=fe&&J!==h&&this.options.updateMissing;if(q||re||W){if(this.logger.log(W?"updateKey":"missingKey",m,d,c,W?J:h),f){var je=this.resolve(c,x(x({},a),{},{keySeparator:!1}));je&&je.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Y=[],ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ne&&ne[0])for(var ge=0;ge<ne.length;ge++)Y.push(ne[ge]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(a.lng||this.language):Y.push(a.lng||this.language);var Ce=function(B,pe,Ne){var _e=fe&&Ne!==h?Ne:gt;s.options.missingKeyHandler?s.options.missingKeyHandler(B,d,pe,_e,W,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(B,d,pe,_e,W,a),s.emit("missingKey",B,d,pe,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Re?Y.forEach(function(de){s.pluralResolver.getSuffixes(de,a).forEach(function(B){Ce([de],c+B,a["defaultValue".concat(B)]||J)})}):Ce(Y,c,J))}h=this.extendTranslation(h,e,a,p,o),q&&h===c&&this.options.appendNamespaceToMissingKey&&(h="".concat(d,":").concat(c)),(q||re)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(c):c,re?h:void 0):h=this.options.parseMissingKeyHandler(h))}return u?(p.res=h,p):h}},{key:"extendTranslation",value:function(e,a,o,s,u){var f=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,x(x({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(x(x({},o),{interpolation:x(x({},this.options.interpolation),o.interpolation)}));var l=typeof e=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(l){var g=e.match(this.interpolator.nestingRegexp);c=g&&g.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=x(x({},this.options.interpolation.defaultVariables),d)),e=this.interpolator.interpolate(e,d,o.lng||this.language,o),l){var m=e.match(this.interpolator.nestingRegexp),y=m&&m.length;c<y&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,S=new Array(h),w=0;w<h;w++)S[w]=arguments[w];return u&&u[0]===S[0]&&!o.context?(f.logger.warn("It seems you are nesting recursively key: ".concat(S[0]," in key: ").concat(a[0])),null):f.translate.apply(f,S.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var v=o.postProcess||this.options.postProcess,p=typeof v=="string"?[v]:v;return e!=null&&p&&p.length&&o.applyPostProcessor!==!1&&(e=Ze.handle(p,e,a,this.options&&this.options.postProcessPassResolved?x({i18nResolved:s},o):o,this)),e}},{key:"resolve",value:function(e){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,u,f,l,c;return typeof e=="string"&&(e=[e]),e.forEach(function(g){if(!a.isValidLookup(s)){var d=a.extractFromKey(g,o),m=d.key;u=m;var y=d.namespaces;a.options.fallbackNS&&(y=y.concat(a.options.fallbackNS));var v=o.count!==void 0&&typeof o.count!="string",p=v&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),h=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",S=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);y.forEach(function(w){a.isValidLookup(s)||(c=w,!$e["".concat(S[0],"-").concat(w)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(c)&&($e["".concat(S[0],"-").concat(w)]=!0,a.logger.warn('key "'.concat(u,'" for languages "').concat(S.join(", "),`" won't get resolved as namespace "`).concat(c,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(function(k){if(!a.isValidLookup(s)){l=k;var E=[m];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(E,m,k,w,o);else{var A;v&&(A=a.pluralResolver.getSuffix(k,o.count,o));var H="".concat(a.options.pluralSeparator,"zero");if(v&&(E.push(m+A),p&&E.push(m+H)),h){var z="".concat(m).concat(a.options.contextSeparator).concat(o.context);E.push(z),v&&(E.push(z+A),p&&E.push(z+H))}}for(var U;U=E.pop();)a.isValidLookup(s)||(f=U,s=a.getResource(k,w,U,o))}}))})}}),{res:s,usedKey:u,exactUsedKey:f,usedLng:l,usedNS:c}}},{key:"isValidLookup",value:function(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}},{key:"getResource",value:function(e,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,a,o,s):this.resourceStore.getResource(e,a,o,s)}}],[{key:"hasDefaultValue",value:function(e){var a="defaultValue";for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&a===o.substring(0,a.length)&&e[o]!==void 0)return!0;return!1}}]),t}(D);function Se(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Ke=function(){function i(r){L(this,i),this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=I.create("languageUtils")}return P(i,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var n=t.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(t){if(typeof t=="string"&&t.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],e=t.split("-");return this.options.lowerCaseLng?e=e.map(function(a){return a.toLowerCase()}):e.length===2?(e[0]=e[0].toLowerCase(),e[1]=e[1].toUpperCase(),n.indexOf(e[1].toLowerCase())>-1&&(e[1]=Se(e[1].toLowerCase()))):e.length===3&&(e[0]=e[0].toLowerCase(),e[1].length===2&&(e[1]=e[1].toUpperCase()),e[0]!=="sgn"&&e[2].length===2&&(e[2]=e[2].toUpperCase()),n.indexOf(e[1].toLowerCase())>-1&&(e[1]=Se(e[1].toLowerCase())),n.indexOf(e[2].toLowerCase())>-1&&(e[2]=Se(e[2].toLowerCase()))),e.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var n=this;if(!t)return null;var e;return t.forEach(function(a){if(!e){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(e=o)}}),!e&&this.options.supportedLngs&&t.forEach(function(a){if(!e){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return e=o;e=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}},{key:"getFallbackCodes",value:function(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!n)return t.default||[];var e=t[n];return e||(e=t[this.getScriptPartFromCode(n)]),e||(e=t[this.formatLanguageCode(n)]),e||(e=t[this.getLanguagePartFromCode(n)]),e||(e=t.default),e||[]}},{key:"toResolveHierarchy",value:function(t,n){var e=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],t),o=[],s=function(f){f&&(e.isSupportedCode(f)?o.push(f):e.logger.warn("rejecting language code not found in supportedLngs: ".concat(f)))};return typeof t=="string"&&t.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):typeof t=="string"&&s(this.formatLanguageCode(t)),a.forEach(function(u){o.indexOf(u)<0&&s(e.formatLanguageCode(u))}),o}}]),i}(),Rt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],jt={1:function(r){return+(r>1)},2:function(r){return+(r!=1)},3:function(r){return 0},4:function(r){return r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2},5:function(r){return r==0?0:r==1?1:r==2?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5},6:function(r){return r==1?0:r>=2&&r<=4?1:2},7:function(r){return r==1?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2},8:function(r){return r==1?0:r==2?1:r!=8&&r!=11?2:3},9:function(r){return+(r>=2)},10:function(r){return r==1?0:r==2?1:r<7?2:r<11?3:4},11:function(r){return r==1||r==11?0:r==2||r==12?1:r>2&&r<20?2:3},12:function(r){return+(r%10!=1||r%100==11)},13:function(r){return+(r!==0)},14:function(r){return r==1?0:r==2?1:r==3?2:3},15:function(r){return r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2},16:function(r){return r%10==1&&r%100!=11?0:r!==0?1:2},17:function(r){return r==1||r%10==1&&r%100!=11?0:1},18:function(r){return r==0?0:r==1?1:2},19:function(r){return r==1?0:r==0||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3},20:function(r){return r==1?0:r==0||r%100>0&&r%100<20?1:2},21:function(r){return r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0},22:function(r){return r==1?0:r==2?1:(r<0||r>10)&&r%10==0?2:3}},Ct=["v1","v2","v3"],Me={zero:0,one:1,two:2,few:3,many:4,other:5};function Nt(){var i={};return Rt.forEach(function(r){r.lngs.forEach(function(t){i[t]={numbers:r.nr,plurals:jt[r.fc]}})}),i}var _t=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L(this,i),this.languageUtils=r,this.options=t,this.logger=I.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Nt()}return P(i,[{key:"addRule",value:function(t,n){this.rules[t]=n}},{key:"getRule",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=this.getRule(t,n);return this.shouldUseIntlApi()?e&&e.resolvedOptions().pluralCategories.length>1:e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,e).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(t){var n=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(t,e);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return Me[o]-Me[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(t,o,e)}):[]}},{key:"getSuffix",value:function(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(t,e);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,n){var e=this,a=t.noAbs?t.plurals(n):t.plurals(Math.abs(n)),o=t.numbers[a];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return e.options.prepend&&o.toString()?e.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!Ct.includes(this.options.compatibilityJSON)}}]),i}();function Ve(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);r&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,n)}return t}function C(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ve(Object(t),!0).forEach(function(n){N(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ve(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function He(i,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=vt(i,r,t);return!a&&e&&typeof t=="string"&&(a=ue(i,t,n),a===void 0&&(a=ue(r,t,n))),a}var It=function(){function i(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};L(this,i),this.logger=I.create("interpolator"),this.options=r,this.format=r.interpolation&&r.interpolation.format||function(t){return t},this.init(r)}return P(i,[{key:"init",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var n=t.interpolation;this.escape=n.escape!==void 0?n.escape:bt,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?M(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?M(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?M(n.nestingPrefix):n.nestingPrefixEscaped||M("$t("),this.nestingSuffix=n.nestingSuffix?M(n.nestingSuffix):n.nestingSuffixEscaped||M(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var e="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(e,"g")}},{key:"interpolate",value:function(t,n,e,a){var o=this,s,u,f,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(v){return v.replace(/\$/g,"$$$$")}var g=function(p){if(p.indexOf(o.formatSeparator)<0){var h=He(n,l,p,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(h,void 0,e,C(C(C({},a),n),{},{interpolationkey:p})):h}var S=p.split(o.formatSeparator),w=S.shift().trim(),k=S.join(o.formatSeparator).trim();return o.format(He(n,l,w,o.options.keySeparator,o.options.ignoreJSONStructure),k,e,C(C(C({},a),n),{},{interpolationkey:w}))};this.resetRegExp();var d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,m=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,y=[{regex:this.regexpUnescape,safeValue:function(p){return c(p)}},{regex:this.regexp,safeValue:function(p){return o.escapeValue?c(o.escape(p)):c(p)}}];return y.forEach(function(v){for(f=0;s=v.regex.exec(t);){var p=s[1].trim();if(u=g(p),u===void 0)if(typeof d=="function"){var h=d(t,s,a);u=typeof h=="string"?h:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))u="";else if(m){u=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(p," for interpolating ").concat(t)),u="";else typeof u!="string"&&!o.useRawValueToEscape&&(u=De(u));var S=v.safeValue(u);if(t=t.replace(s[0],S),m?(v.regex.lastIndex+=u.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,f++,f>=o.maxReplaces)break}}),t}},{key:"nest",value:function(t,n){var e=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,u;function f(d,m){var y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;var v=d.split(new RegExp("".concat(y,"[ ]*{"))),p="{".concat(v[1]);d=v[0],p=this.interpolate(p,u);var h=p.match(/'/g),S=p.match(/"/g);(h&&h.length%2===0&&!S||S.length%2!==0)&&(p=p.replace(/'/g,'"'));try{u=JSON.parse(p),m&&(u=C(C({},m),u))}catch(w){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),w),"".concat(d).concat(y).concat(p)}return delete u.defaultValue,d}for(;o=this.nestingRegexp.exec(t);){var l=[];u=C({},a),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var c=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var g=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=g.shift(),l=g,c=!0}if(s=n(f.call(this,o[1].trim(),u),u),s&&o[0]===t&&typeof s!="string")return s;typeof s!="string"&&(s=De(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(t)),s=""),c&&(s=l.reduce(function(d,m){return e.format(d,m,a.lng,C(C({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),t=t.replace(o[0],s),this.regexp.lastIndex=0}return t}}]),i}();function ze(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);r&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,n)}return t}function T(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ze(Object(t),!0).forEach(function(n){N(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ze(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Et(i){var r=i.toLowerCase().trim(),t={};if(i.indexOf("(")>-1){var n=i.split("(");r=n[0].toLowerCase().trim();var e=n[1].substring(0,n[1].length-1);if(r==="currency"&&e.indexOf(":")<0)t.currency||(t.currency=e.trim());else if(r==="relativetime"&&e.indexOf(":")<0)t.range||(t.range=e.trim());else{var a=e.split(";");a.forEach(function(o){if(o){var s=o.split(":"),u=we(s),f=u[0],l=u.slice(1),c=l.join(":").trim().replace(/^'+|'+$/g,"");t[f.trim()]||(t[f.trim()]=c),c==="false"&&(t[f.trim()]=!1),c==="true"&&(t[f.trim()]=!0),isNaN(c)||(t[f.trim()]=parseInt(c,10))}})}}return{formatName:r,formatOptions:t}}function V(i){var r={};return function(n,e,a){var o=e+JSON.stringify(a),s=r[o];return s||(s=i(e,a),r[o]=s),s(n)}}var Tt=function(){function i(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};L(this,i),this.logger=I.create("formatter"),this.options=r,this.formats={number:V(function(t,n){var e=new Intl.NumberFormat(t,T({},n));return function(a){return e.format(a)}}),currency:V(function(t,n){var e=new Intl.NumberFormat(t,T(T({},n),{},{style:"currency"}));return function(a){return e.format(a)}}),datetime:V(function(t,n){var e=new Intl.DateTimeFormat(t,T({},n));return function(a){return e.format(a)}}),relativetime:V(function(t,n){var e=new Intl.RelativeTimeFormat(t,T({},n));return function(a){return e.format(a,n.range||"day")}}),list:V(function(t,n){var e=new Intl.ListFormat(t,T({},n));return function(a){return e.format(a)}})},this.init(r)}return P(i,[{key:"init",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},e=n.interpolation;this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||","}},{key:"add",value:function(t,n){this.formats[t.toLowerCase().trim()]=n}},{key:"addCached",value:function(t,n){this.formats[t.toLowerCase().trim()]=V(n)}},{key:"format",value:function(t,n,e){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),u=s.reduce(function(f,l){var c=Et(l),g=c.formatName,d=c.formatOptions;if(a.formats[g]){var m=f;try{var y=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},v=y.locale||y.lng||o.locale||o.lng||e;m=a.formats[g](f,v,T(T(T({},d),o),y))}catch(p){a.logger.warn(p)}return m}else a.logger.warn("there was no format function for ".concat(g));return f},t);return u}}]),i}();function qe(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);r&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,n)}return t}function Je(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?qe(Object(t),!0).forEach(function(n){N(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Dt(i){var r=At();return function(){var n=R(i),e;if(r){var a=R(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return F(this,e)}}function At(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ft(i,r){i.pending[r]!==void 0&&(delete i.pending[r],i.pendingCount--)}var Ut=function(i){K(t,i);var r=Dt(t);function t(n,e,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return L(this,t),o=r.call(this),le&&D.call(j(o)),o.backend=n,o.store=e,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=I.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return P(t,[{key:"queueLoad",value:function(e,a,o,s){var u=this,f={},l={},c={},g={};return e.forEach(function(d){var m=!0;a.forEach(function(y){var v="".concat(d,"|").concat(y);!o.reload&&u.store.hasResourceBundle(d,y)?u.state[v]=2:u.state[v]<0||(u.state[v]===1?l[v]===void 0&&(l[v]=!0):(u.state[v]=1,m=!1,l[v]===void 0&&(l[v]=!0),f[v]===void 0&&(f[v]=!0),g[y]===void 0&&(g[y]=!0)))}),m||(c[d]=!0)}),(Object.keys(f).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(f),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(g)}}},{key:"loaded",value:function(e,a,o){var s=e.split("|"),u=s[0],f=s[1];a&&this.emit("failedLoading",u,f,a),o&&this.store.addResourceBundle(u,f,o),this.state[e]=a?-1:2;var l={};this.queue.forEach(function(c){mt(c.loaded,[u],f),Ft(c,e),a&&c.errors.push(a),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(function(g){l[g]||(l[g]={});var d=c.loaded[g];d.length&&d.forEach(function(m){l[g][m]===void 0&&(l[g][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(function(c){return!c.done})}},{key:"read",value:function(e,a,o){var s=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,l=arguments.length>5?arguments[5]:void 0;if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:a,fcName:o,tried:u,wait:f,callback:l});return}this.readingCalls++;var c=function(y,v){if(s.readingCalls--,s.waitingReads.length>0){var p=s.waitingReads.shift();s.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(y&&v&&u<s.maxRetries){setTimeout(function(){s.read.call(s,e,a,o,u+1,f*2,l)},f);return}l(y,v)},g=this.backend[o].bind(this.backend);if(g.length===2){try{var d=g(e,a);d&&typeof d.then=="function"?d.then(function(m){return c(null,m)}).catch(c):c(null,d)}catch(m){c(m)}return}return g(e,a,c)}},{key:"prepareLoading",value:function(e,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof a=="string"&&(a=[a]);var f=this.queueLoad(e,a,s,u);if(!f.toLoad.length)return f.pending.length||u(),null;f.toLoad.forEach(function(l){o.loadOne(l)})}},{key:"load",value:function(e,a,o){this.prepareLoading(e,a,{},o)}},{key:"reload",value:function(e,a,o){this.prepareLoading(e,a,{reload:!0},o)}},{key:"loadOne",value:function(e){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=e.split("|"),u=s[0],f=s[1];this.read(u,f,"read",void 0,void 0,function(l,c){l&&a.logger.warn("".concat(o,"loading namespace ").concat(f," for language ").concat(u," failed"),l),!l&&c&&a.logger.log("".concat(o,"loaded namespace ").concat(f," for language ").concat(u),c),a.loaded(e,l,c)})}},{key:"saveMissing",value:function(e,a,o,s,u){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var c=Je(Je({},f),{},{isUpdate:u}),g=this.backend.create.bind(this.backend);if(g.length<6)try{var d;g.length===5?d=g(e,a,o,s,c):d=g(e,a,o,s),d&&typeof d.then=="function"?d.then(function(m){return l(null,m)}).catch(l):l(null,d)}catch(m){l(m)}else g(e,a,o,s,l,c)}!e||!e[0]||this.store.addResource(e[0],a,o,s)}}}]),t}(D);function We(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(r){var t={};if(O(r[1])==="object"&&(t=r[1]),typeof r[1]=="string"&&(t.defaultValue=r[1]),typeof r[2]=="string"&&(t.tDescription=r[2]),O(r[2])==="object"||O(r[3])==="object"){var n=r[3]||r[2];Object.keys(n).forEach(function(e){t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:function(r,t,n,e){return r},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Ye(i){return typeof i.ns=="string"&&(i.ns=[i.ns]),typeof i.fallbackLng=="string"&&(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS=="string"&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i}function Ge(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);r&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),t.push.apply(t,n)}return t}function _(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ge(Object(t),!0).forEach(function(n){N(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ge(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function $t(i){var r=Bt();return function(){var n=R(i),e;if(r){var a=R(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return F(this,e)}}function Bt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oe(){}function Kt(i){var r=Object.getOwnPropertyNames(Object.getPrototypeOf(i));r.forEach(function(t){typeof i[t]=="function"&&(i[t]=i[t].bind(i))})}var ce=function(i){K(t,i);var r=$t(t);function t(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(L(this,t),n=r.call(this),le&&D.call(j(n)),n.options=Ye(e),n.services={},n.logger=I,n.modules={external:[]},Kt(j(n)),a&&!n.isInitialized&&!e.isClone){if(!n.options.initImmediate)return n.init(e,a),F(n,j(n));setTimeout(function(){n.init(e,a)},0)}return n}return P(t,[{key:"init",value:function(){var e=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=We();this.options=_(_(_({},s),this.options),Ye(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=_(_({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function u(p){return p?typeof p=="function"?new p:p:null}if(!this.options.isClone){this.modules.logger?I.init(u(this.modules.logger),this.options):I.init(null,this.options);var f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=Tt);var l=new Ke(this.options);this.store=new kt(this.options.resources,this.options);var c=this.services;c.logger=I,c.resourceStore=this.store,c.languageUtils=l,c.pluralResolver=new _t(l,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(c.formatter=u(f),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new It(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new Ut(u(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(p){for(var h=arguments.length,S=new Array(h>1?h-1:0),w=1;w<h;w++)S[w-1]=arguments[w];e.emit.apply(e,[p].concat(S))}),this.modules.languageDetector&&(c.languageDetector=u(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=u(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new Be(this.services,this.options),this.translator.on("*",function(p){for(var h=arguments.length,S=new Array(h>1?h-1:0),w=1;w<h;w++)S[w-1]=arguments[w];e.emit.apply(e,[p].concat(S))}),this.modules.external.forEach(function(p){p.init&&p.init(e)})}if(this.format=this.options.interpolation.format,o||(o=oe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(p){e[p]=function(){var h;return(h=e.store)[p].apply(h,arguments)}});var m=["addResource","addResources","addResourceBundle","removeResourceBundle"];m.forEach(function(p){e[p]=function(){var h;return(h=e.store)[p].apply(h,arguments),e}});var y=Z(),v=function(){var h=function(w,k){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),y.resolve(k),o(w,k)};if(e.languages&&e.options.compatibilityAPI!=="v1"&&!e.isInitialized)return h(null,e.t.bind(e));e.changeLanguage(e.options.lng,h)};return this.options.resources||!this.options.initImmediate?v():setTimeout(v,0),y}},{key:"loadResources",value:function(e){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe,s=o,u=typeof e=="string"?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return s();var f=[],l=function(d){if(d){var m=a.services.languageUtils.toResolveHierarchy(d);m.forEach(function(y){f.indexOf(y)<0&&f.push(y)})}};if(u)l(u);else{var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.forEach(function(g){return l(g)})}this.options.preload&&this.options.preload.forEach(function(g){return l(g)}),this.services.backendConnector.load(f,this.options.ns,function(g){!g&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(g)})}else s(null)}},{key:"reloadResources",value:function(e,a,o){var s=Z();return e||(e=this.languages),a||(a=this.options.ns),o||(o=oe),this.services.backendConnector.reload(e,a,function(u){s.resolve(),o(u)}),s}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ze.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(e,a){var o=this;this.isLanguageChangingTo=e;var s=Z();this.emit("languageChanging",e);var u=function(g){o.language=g,o.languages=o.services.languageUtils.toResolveHierarchy(g),o.resolvedLanguage=void 0,o.setResolvedLanguage(g)},f=function(g,d){d?(u(d),o.translator.changeLanguage(d),o.isLanguageChangingTo=void 0,o.emit("languageChanged",d),o.logger.log("languageChanged",d)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(g,function(){return o.t.apply(o,arguments)})},l=function(g){!e&&!g&&o.services.languageDetector&&(g=[]);var d=typeof g=="string"?g:o.services.languageUtils.getBestMatchFromCodes(g);d&&(o.language||u(d),o.translator.language||o.translator.changeLanguage(d),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(d)),o.loadResources(d,function(m){f(m,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}},{key:"getFixedT",value:function(e,a,o){var s=this,u=function f(l,c){var g;if(O(c)!=="object"){for(var d=arguments.length,m=new Array(d>2?d-2:0),y=2;y<d;y++)m[y-2]=arguments[y];g=s.options.overloadTranslationOptionHandler([l,c].concat(m))}else g=_({},c);g.lng=g.lng||f.lng,g.lngs=g.lngs||f.lngs,g.ns=g.ns||f.ns,g.keyPrefix=g.keyPrefix||o||f.keyPrefix;var v=s.options.keySeparator||".",p;return g.keyPrefix&&Array.isArray(l)?p=l.map(function(h){return"".concat(g.keyPrefix).concat(v).concat(h)}):p=g.keyPrefix?"".concat(g.keyPrefix).concat(v).concat(l):l,s.t(p,g)};return typeof e=="string"?u.lng=e:u.lngs=e,u.ns=a,u.keyPrefix=o,u}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,f=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var l=function(d,m){var y=a.services.backendConnector.state["".concat(d,"|").concat(m)];return y===-1||y===2};if(o.precheck){var c=o.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(s,e)&&(!u||l(f,e)))}},{key:"loadNamespaces",value:function(e,a){var o=this,s=Z();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(function(u){o.options.ns.indexOf(u)<0&&o.options.ns.push(u)}),this.loadResources(function(u){s.resolve(),a&&a(u)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(e,a){var o=Z();typeof e=="string"&&(e=[e]);var s=this.options.preload||[],u=e.filter(function(f){return s.indexOf(f)<0});return u.length?(this.options.preload=s.concat(u),this.loadResources(function(f){o.resolve(),a&&a(f)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Ke(We());return a.indexOf(o.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe,s=_(_(_({},this.options),a),{isClone:!0}),u=new t(s);(a.debug!==void 0||a.prefix!==void 0)&&(u.logger=u.logger.clone(a));var f=["store","services","language"];return f.forEach(function(l){u[l]=e[l]}),u.services=_({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new Be(u.services,u.options),u.translator.on("*",function(l){for(var c=arguments.length,g=new Array(c>1?c-1:0),d=1;d<c;d++)g[d-1]=arguments[d];u.emit.apply(u,[l].concat(g))}),u.init(s,o),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),t}(D);N(ce,"createInstance",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new ce(i,r)});var b=ce.createInstance();b.createInstance=ce.createInstance;var Yr=b.createInstance,Gr=b.dir,Qr=b.init,Zr=b.loadResources,Xr=b.reloadResources,en=b.use,tn=b.changeLanguage,rn=b.getFixedT,nn=b.t,an=b.exists,on=b.setDefaultNamespace,sn=b.hasLoadedNamespace,un=b.loadNamespaces,cn=b.loadLanguages;var nt=[],Mt=nt.forEach,Vt=nt.slice;function Ht(i){return Mt.call(Vt.call(arguments,1),function(r){if(r)for(var t in r)i[t]===void 0&&(i[t]=r[t])}),i}var Xe=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,zt=function(r,t,n){var e=n||{};e.path=e.path||"/";var a=encodeURIComponent(t),o="".concat(r,"=").concat(a);if(e.maxAge>0){var s=e.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(s))}if(e.domain){if(!Xe.test(e.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(e.domain)}if(e.path){if(!Xe.test(e.path))throw new TypeError("option path is invalid");o+="; Path=".concat(e.path)}if(e.expires){if(typeof e.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(e.expires.toUTCString())}if(e.httpOnly&&(o+="; HttpOnly"),e.secure&&(o+="; Secure"),e.sameSite){var u=typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},et={create:function(r,t,n,e){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),e&&(a.domain=e),document.cookie=zt(r,encodeURIComponent(t),a)},read:function(r){for(var t="".concat(r,"="),n=document.cookie.split(";"),e=0;e<n.length;e++){for(var a=n[e];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove:function(r){this.create(r,"",-1)}},qt={name:"cookie",lookup:function(r){var t;if(r.lookupCookie&&typeof document<"u"){var n=et.read(r.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(r,t){t.lookupCookie&&typeof document<"u"&&et.create(t.lookupCookie,r,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},Jt={name:"querystring",lookup:function(r){var t;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var e=n.substring(1),a=e.split("&"),o=0;o<a.length;o++){var s=a[o].indexOf("=");if(s>0){var u=a[o].substring(0,s);u===r.lookupQuerystring&&(t=a[o].substring(s+1))}}}return t}},X=null,tt=function(){if(X!==null)return X;try{X=window!=="undefined"&&window.localStorage!==null;var r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{X=!1}return X},Wt={name:"localStorage",lookup:function(r){var t;if(r.lookupLocalStorage&&tt()){var n=window.localStorage.getItem(r.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(r,t){t.lookupLocalStorage&&tt()&&window.localStorage.setItem(t.lookupLocalStorage,r)}},ee=null,rt=function(){if(ee!==null)return ee;try{ee=window!=="undefined"&&window.sessionStorage!==null;var r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{ee=!1}return ee},Yt={name:"sessionStorage",lookup:function(r){var t;if(r.lookupSessionStorage&&rt()){var n=window.sessionStorage.getItem(r.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(r,t){t.lookupSessionStorage&&rt()&&window.sessionStorage.setItem(t.lookupSessionStorage,r)}},Gt={name:"navigator",lookup:function(r){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},Qt={name:"htmlTag",lookup:function(r){var t,n=r.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},Zt={name:"path",lookup:function(r){var t;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof r.lookupFromPathIndex=="number"){if(typeof n[r.lookupFromPathIndex]!="string")return;t=n[r.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},Xt={name:"subdomain",lookup:function(r){var t=typeof r.lookupFromSubdomainIndex=="number"?r.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};function er(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(r){return r}}}var xe=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};L(this,i),this.type="languageDetector",this.detectors={},this.init(r,t)}return P(i,[{key:"init",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=Ht(n,this.options||{},er()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(a){return a.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=e,this.addDetector(qt),this.addDetector(Jt),this.addDetector(Wt),this.addDetector(Yt),this.addDetector(Gt),this.addDetector(Qt),this.addDetector(Zt),this.addDetector(Xt)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var n=this;t||(t=this.options.order);var e=[];return t.forEach(function(a){if(n.detectors[a]){var o=n.detectors[a].lookup(n.options);o&&typeof o=="string"&&(o=[o]),o&&(e=e.concat(o))}}),e=e.map(function(a){return n.options.convertDetectedLanguage(a)}),this.services.languageUtils.getBestMatchFromCodes?e:e.length>0?e[0]:null}},{key:"cacheUserLanguage",value:function(t,n){var e=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(function(a){e.detectors[a]&&e.detectors[a].cacheUserLanguage(t,e.options)}))}}]),i}();xe.type="languageDetector";function at(i){return b.t(i.privacyPolicyMessage||"We use cookies for login and security.")+" "+b.t("Learn more in our <a href='{{url}}' target='_blank'>privacy policy</a>.")}function ke(i,r){let{disableLaunch:t,showRequestStorageAccess:n,showStorageAccessDenied:e}=r,a=document.getElementById("main-content");if(!a)throw"Could not find main-content element";a.innerHTML=`
    <div class="aj-centered-message">
      <h1 class="aj-title">
        <i class="material-icons-outlined aj-icon" aria-hidden="true">cookie_off</i>
        ${b.t("Cookies Required")}
      </h1>
      <p class="aj-text">
        ${at(i)} </p>
      <p class="aj-text">
        ${b.t("Please click the button below to reload in a new window.")}
      </p>
      <button id="button_launch_new_window" class="aj-btn aj-btn--blue" ${t?'disabled=""':""} >
        ${b.t("Open in a new window")}
      </button>
      </a>
      ${n?`
        <div id="request_storage_access">
          <p class="aj-text">
            ${b.t("If you have used this application before, your browser may allow you to <a id='request_storage_access_link' href='#'>enable cookies</a> and prevent this message in the future.")}
          </p>
        </div>
      `:""}
      ${e?`
      <div id="request_storage_access_error" class="u-flex">
        <i class="material-icons-outlined aj-icon" aria-hidden="true">warning</i>
        <p class="aj-text">
        ${b.t("The browser prevented access.  Try launching in a new window first and then clicking this option again next time. If that doesn't work check your privacy settings. Some browsers will prevent all third party cookies.")}
        </p>
      </div>
      `:""}
    </div>
  `,document.getElementById("button_launch_new_window").onclick=()=>rr(i),n&&(document.getElementById("request_storage_access_link").onclick=()=>ar(i))}function tr(i){let r=document.getElementById("main-content");if(!r)throw"Could not find main-content element";r.innerHTML=`
    <div id="cookie_error" class="aj-centered-message">
      <h1 class="aj-title">
        <i class="material-icons-outlined aj-icon" aria-hidden="true">cookie_off</i>
        ${b.t("Cookies Required")}
      </h1>
      <p class="aj-text">
        ${at(i)}
      </p>
      <p class="aj-text">
        ${b.t("Please check your browser settings and enable cookies.")}
      </p>
    </div>
  `}function rr(i){window.open(i.relaunchInitUrl),ke(i,{disableLaunch:!0,showRequestStorageAccess:!1,showStorageAccessDenied:!1})}function nr(i,r,t){return new Promise((n,e)=>{let a=new URL(t.oidcUrl).origin,o=t.target,s=window.parent||window.opener,u=o==="_parent"?s:s.frames[o];t.originSupportBroken&&(a="*");let f=setTimeout(()=>{console.log("postMessage timeout"),e(new Error("Timeout while waiting for platform response"))},2e3),l=c=>{typeof c.data=="object"&&c.data.subject==="lti.put_data.response"&&c.data.message_id===i&&(c.origin===a||a==="*")&&(removeEventListener("message",l),clearTimeout(f),c.data.error&&(console.log(c.data.error.code),console.log(c.data.error.message),e(new Error(c.data.errormessage))),n())};window.addEventListener("message",l),u?.postMessage({subject:"lti.put_data",message_id:i,key:"atomic_lti_"+i,value:r},a)})}function ar(i){document.requestStorageAccess().then(()=>{or(i),window.location.replace(i.response_url)}).catch(r=>{console.log(r),ke(i,{showStorageAccessDenied:!0,disableLaunch:!0,showRequestStorageAccess:!1})})}function ir(i){return document.cookie?document.cookie.match("(^|;)\\s*open_id_"+i.state):!1}function or(i){document.cookie="open_id_"+i.state+"="+i.csrfToken+"; path=/; max-age=300; SameSite=None ;"}function sr(){return typeof document.hasStorageAccess=="function"&&typeof document.requestStorageAccess=="function"}async function it(i){let r=()=>{window.location.replace(i.response_url)};if(ir(i))return r();if(i.ltiStorageParams)try{return await nr(i.state,i.csrfToken,i.ltiStorageParams),r()}catch(t){console.log(t)}if(window.self!==window.top){let t=!1;if(sr())try{await document.hasStorageAccess()||(t=!0)}catch(n){console.log(n)}ke(i,{showRequestStorageAccess:t,disableLaunch:!1,showStorageAccessDenied:!1})}else tr(i)}var ot={"Cookies Required":"Galletas requeridas","There was an error launching the LTI tool. Please reload and try again.":"Hubo un error al iniciar la herramienta LTI. Vuelva a cargar y vuelva a intentarlo.","Please click the button below to reload in a new window.":"Haga clic en el bot\xF3n de abajo para recargar en una nueva ventana.","Open in a new window":"Abrir en una nueva ventana","If you have used this application before, your browser may allow you to <a id='request_storage_access_link' href='#'>enable cookies</a> and prevent this message in the future.":"Si ha utilizado esta aplicaci\xF3n anteriormente, su navegador puede permitirle <a id='request_storage_access_link' href='#'>habilitar cookies</a> y evitar este mensaje en el futuro.","The browser prevented access.  Try launching in a new window first and then clicking this option again next time. If that doesn't work check your privacy settings. Some browsers will prevent all third party cookies.":"El navegador impidi\xF3 el acceso. Intente iniciar primero en una nueva ventana y luego vuelva a hacer clic en esta opci\xF3n la pr\xF3xima vez. Si eso no funciona, verifique su configuraci\xF3n de privacidad. Algunos navegadores evitar\xE1n todas las cookies de terceros.","We use cookies for login and security.":"Usamos cookies para inicio de sesi\xF3n y seguridad.","Learn more in our <a href='{{url}}' target='_blank'>privacy policy</a>.":"Obt\xE9n m\xE1s informaci\xF3n en nuestra <a href='{{url}}' target='_blank'>pol\xEDtica de privacidad</a>.","Please check your browser settings and enable cookies.":"Verifique la configuraci\xF3n de su navegador y habilite las cookies."};var st={"Cookies Required":"Cookies n\xE9cessaires","There was an error launching the LTI tool. Please reload and try again.":"Une erreur s'est produite lors du lancement de l'outil LTI. Veuillez recharger et r\xE9essayer.","Please click the button below to reload in a new window.":"Veuillez cliquer sur le bouton ci-dessous pour recharger dans une nouvelle fen\xEAtre.","Open in a new window":"Ouvrir dans une nouvelle fen\xEAtre","If you have used this application before, your browser may allow you to <a id='request_storage_access_link' href='#'>enable cookies</a> and prevent this message in the future.":"Si vous avez d\xE9j\xE0 utilis\xE9 cette application, votre navigateur peut vous permettre d'<a id='request_storage_access_link' href='#'>activer les cookies</a> et emp\xEAcher ce message \xE0 l'avenir.","The browser prevented access.  Try launching in a new window first and then clicking this option again next time. If that doesn't work check your privacy settings. Some browsers will prevent all third party cookies.":"Le navigateur a emp\xEAch\xE9 l'acc\xE8s. Essayez d'abord de lancer dans une nouvelle fen\xEAtre, puis cliquez \xE0 nouveau sur cette option la prochaine fois. Si cela ne fonctionne pas, v\xE9rifiez vos param\xE8tres de confidentialit\xE9. Certains navigateurs emp\xEAcheront tous les cookies tiers.","We use cookies for login and security.":"Nous utilisons des cookies pour la connexion et la s\xE9curit\xE9.","Learn more in our <a href='{{url}}' target='_blank'>privacy policy</a>.":"En savoir plus dans notre <a href='{{url}}' target='_blank'>politique de confidentialit\xE9</a>.","Please check your browser settings and enable cookies.":"Veuillez v\xE9rifier les param\xE8tres de votre navigateur et activer les cookies."};function ut(i){let r=!1;b.use(xe).init({detection:{order:["querystring","navigator"]},fallbackLng:"en",keySeparator:!1}),b.addResourceBundle("es","translation",ot),b.addResourceBundle("fr","translation",st),b.changeLanguage(),window.addEventListener("load",()=>{it(i),r=!0}),setTimeout(()=>{r||document.getElementById("error")?.classList?.remove("hidden")},5e3)}ut(window.SETTINGS);})();
